---
description: Configure Mermaid diagram color themes through interactive selection or custom colors
when-to-use: |
  - User asks "how to set mermaid theme" or "change diagram colors"
  - User mentions theme names like "Tokyo Night", "Nord", "Catppuccin", "Dracula"
  - User wants to customize diagram appearance
  - User asks about available color schemes
name: mermaid-theme
---

# Mermaid Theme Configuration Skill

You are helping users configure color themes for Mermaid diagrams. This skill manages the `MERMAID_COLOR_SCHEME` environment variable that controls diagram appearance.

## Available Color Schemes

You have 8 built-in color schemes plus custom option:

1. **tokyo-night** - Deep blue-purple tones (dark theme)
2. **nord** - Ice blue tones (dark theme)
3. **catppuccin-mocha** - Warm purple tones (dark theme)
4. **catppuccin-latte** - Warm tones (light theme)
5. **dracula** - Purple-pink tones (dark theme)
6. **github-dark** - Deep blue tones (dark theme)
7. **github-light** - Light blue tones (light theme)
8. **solarized-dark** - Amber-blue tones (dark theme)
9. **custom** - User provides their own colors

## Configuration Process

### Step 1: Ask User to Choose Color Scheme

Use the AskUserQuestion tool to present color scheme options:

```
{
  "questions": [
    {
      "question": "Which color scheme would you like to use for Mermaid diagrams?",
      "header": "Color Scheme",
      "multiSelect": false,
      "options": [
        {
          "label": "Tokyo Night",
          "description": "Deep blue-purple tones, modern dark theme inspired by Tokyo Night VSCode theme"
        },
        {
          "label": "Nord",
          "description": "Ice blue tones, arctic-inspired palette with cool colors"
        },
        {
          "label": "Catppuccin Mocha",
          "description": "Warm purple tones, cozy dark theme with pastel accents"
        },
        {
          "label": "Catppuccin Latte",
          "description": "Warm tones, light theme with soft pastel colors"
        },
        {
          "label": "Dracula",
          "description": "Purple-pink tones, high contrast dark theme"
        },
        {
          "label": "GitHub Dark",
          "description": "Deep blue tones, familiar GitHub dark mode colors"
        },
        {
          "label": "GitHub Light",
          "description": "Light blue tones, clean GitHub light mode appearance"
        },
        {
          "label": "Solarized Dark",
          "description": "Amber-blue tones, precision colors for technical work"
        }
      ]
    }
  ]
}
```

### Step 2: Generate Theme Configuration Script

Based on the user's selection, create a shell configuration file at `~/.mermaid-theme.sh`:

```bash
#!/bin/bash
# Mermaid Theme Configuration
# Generated by mermaid-theme skill

export MERMAID_COLOR_SCHEME="<scheme-name>"
```

**Scheme name mapping:**
- "Tokyo Night" → `tokyo-night`
- "Nord" → `nord`
- "Catppuccin Mocha" → `catppuccin-mocha`
- "Catppuccin Latte" → `catppuccin-latte`
- "Dracula" → `dracula`
- "GitHub Dark" → `github-dark`
- "GitHub Light" → `github-light`
- "Solarized Dark" → `solarized-dark`

### Step 3: Custom Color Handling

If user selects "Custom" (via "Other" option), ask for custom colors:

```
{
  "questions": [
    {
      "question": "What primary color would you like to use? (hex format, e.g., #7aa2f7)",
      "header": "Primary Color",
      "multiSelect": false,
      "options": [
        {"label": "Blue (#7aa2f7)", "description": "Tokyo Night blue"},
        {"label": "Purple (#bb9af7)", "description": "Tokyo Night purple"},
        {"label": "Cyan (#88c0d0)", "description": "Nord cyan"},
        {"label": "Green (#a6e3a1)", "description": "Catppuccin green"}
      ]
    }
  ]
}
```

For custom colors, generate:
```bash
#!/bin/bash
# Mermaid Custom Theme Configuration
# Generated by mermaid-theme skill

export MERMAID_COLOR_SCHEME="custom"
export MERMAID_PRIMARY_COLOR="<user-color>"
export MERMAID_SECONDARY_COLOR="<optional-secondary>"
export MERMAID_TEXT_COLOR="<optional-text>"
```

### Step 4: Write Configuration File

Use the Write tool to create `~/.mermaid-theme.sh` with the generated content.

### Step 5: Provide Loading Instructions

After creating the configuration file, inform the user:

```
✓ Theme configuration saved to ~/.mermaid-theme.sh

To apply the theme, run:
  source ~/.mermaid-theme.sh

To make it permanent, add to your shell profile:
  echo 'source ~/.mermaid-theme.sh' >> ~/.zshrc
  # or for bash:
  echo 'source ~/.mermaid-theme.sh' >> ~/.bashrc

Then restart your terminal or run:
  source ~/.zshrc
```

## Color Scheme Definitions

For reference, here are the color values for each scheme:

### tokyo-night
- Primary: #7aa2f7 (blue)
- Secondary: #bb9af7 (purple)
- Text: #c0caf5 (light blue-white)
- Background: transparent
- Line: #565f89 (muted blue-gray)

### nord
- Primary: #88c0d0 (cyan)
- Secondary: #81a1c1 (blue)
- Text: #eceff4 (snow white)
- Background: transparent
- Line: #4c566a (polar night)

### catppuccin-mocha
- Primary: #89b4fa (blue)
- Secondary: #cba6f7 (mauve)
- Text: #cdd6f4 (text)
- Background: transparent
- Line: #6c7086 (overlay)

### catppuccin-latte
- Primary: #1e66f5 (blue)
- Secondary: #8839ef (mauve)
- Text: #4c4f69 (text)
- Background: transparent
- Line: #9ca0b0 (overlay)

### dracula
- Primary: #bd93f9 (purple)
- Secondary: #ff79c6 (pink)
- Text: #f8f8f2 (foreground)
- Background: transparent
- Line: #6272a4 (comment)

### github-dark
- Primary: #58a6ff (blue)
- Secondary: #79c0ff (light blue)
- Text: #c9d1d9 (text)
- Background: transparent
- Line: #30363d (border)

### github-light
- Primary: #0969da (blue)
- Secondary: #0550ae (dark blue)
- Text: #24292f (text)
- Background: transparent
- Line: #d0d7de (border)

### solarized-dark
- Primary: #268bd2 (blue)
- Secondary: #2aa198 (cyan)
- Text: #839496 (base0)
- Background: transparent
- Line: #586e75 (base01)

## Important Notes

1. **No JSON Configuration Files**: Users should never need to write Mermaid JSON config files. The skill handles all configuration through environment variables.

2. **Transparent Background**: All themes use transparent background by default, which works well with both light and dark terminal themes.

3. **Immediate Effect**: Changes take effect for new diagrams immediately after sourcing the configuration file. Existing diagrams are not affected.

4. **Compatibility**: These themes work with both `/diagram` command and `mermaid-display` skill.

5. **Validation**: If user provides invalid hex colors for custom theme, politely ask them to provide valid hex format (e.g., #7aa2f7).

## Error Handling

- If `~/.mermaid-theme.sh` already exists, inform user and ask if they want to overwrite
- If user provides invalid color format, ask for correct format
- If Write tool fails, suggest manual creation with the generated content
