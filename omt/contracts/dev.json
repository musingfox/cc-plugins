{
  "agent": "dev",
  "description": "Development implementation agent with TDD and debugging",
  "method": {
    "name": "TDD + Debugging",
    "description": "Test-Driven Development with systematic debugging",
    "steps": [
      "Write failing tests (Red)",
      "Implement minimal code to pass (Green)",
      "Refactor for quality",
      "Debug with 5 Whys if errors occur",
      "Repeat"
    ]
  },
  "input_contract": {
    "required": [
      {
        "field_name": "requirements",
        "description": "Requirements document from PM",
        "type": "string",
        "validation": ["minLength:10"]
      },
      {
        "field_name": "architecture",
        "description": "API contracts and architecture design",
        "type": "string",
        "validation": ["minLength:10"]
      },
      {
        "field_name": "files_to_modify",
        "description": "List of files to implement",
        "type": "array",
        "validation": ["minItems:1"]
      }
    ],
    "optional": [
      {
        "field_name": "existing_tests",
        "description": "Existing test files to build upon",
        "type": "array"
      },
      {
        "field_name": "error_context",
        "description": "Error information if debugging task",
        "type": "object"
      }
    ],
    "source": [
      {
        "location": ".agents/outputs/pm.md",
        "description": "Requirements from PM agent"
      },
      {
        "location": ".agents/outputs/arch.md",
        "description": "Architecture from Architect agent"
      },
      {
        "location": ".agents/.state/state.json:planning.architecture.files_to_modify",
        "description": "Files list from state"
      }
    ]
  },
  "output_contract": {
    "required": [
      {
        "field_name": "test_files",
        "description": "Test files created or modified",
        "type": "array",
        "validation": ["minItems:1"]
      },
      {
        "field_name": "implementation_files",
        "description": "Implementation files modified",
        "type": "array",
        "validation": ["minItems:1"]
      },
      {
        "field_name": "tests_status",
        "description": "Test execution result (format: X/Y passed)",
        "type": "string",
        "validation": ["pattern:^\\d+/\\d+ passed$"]
      },
      {
        "field_name": "complexity_actual",
        "description": "Actual complexity score",
        "type": "number"
      }
    ],
    "optional": [
      {
        "field_name": "coverage",
        "description": "Test coverage percentage",
        "type": "number"
      },
      {
        "field_name": "debugging_report",
        "description": "Root cause analysis if debugging was performed",
        "type": "string"
      }
    ],
    "destination": [
      "tests/",
      "src/",
      ".agents/outputs/dev/{stage-id}.md (per-stage, when dispatched by @hive)",
      ".agents/outputs/dev.md (standalone mode)",
      ".agents/.state/state.json:execution.dev_result"
    ]
  },
  "validation": [
    "all tests must pass",
    "test coverage >= 80%",
    "implementation must follow referenced pseudocode exactly",
    "complexity_actual should match estimate Â±30%"
  ],
  "complexity_range": [8, 21],
  "retry_limit": 3
}
